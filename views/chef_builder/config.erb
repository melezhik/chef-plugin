<%
f = taglib("/lib/form")

f.entry(:title => 'enabled', :field => 'enabled', :description => "enable/disable plugin #{@enabled_int}" ) do
    if instance.nil?
        f.checkbox :checked => true  
    else
        f.checkbox :checked => ( instance.get('enabled_int').nil?  or  instance.get('enabled_int') == 1 ) 
    end
end


f.entry(:title => 'dry run', :field => 'dry_run', :description => "run in dry run mode"  ) do
    if instance.nil?
        f.checkbox :checked => false
    else
        f.checkbox :checked => instance.get('dry_run_int') == 1
    end
end
f.entry(:title => 'ssh host', :field => 'ssh_host', :description => "remote host") do
  f.textbox
end
f.entry(:title => 'ssh login', :field => 'ssh_login', :description => "ssh login") do
  f.textbox
end
f.entry(:title => 'chef json template', :field => 'chef_json_template', :description => "chef attributes and run-list") do
  f.textarea
end

f.advanced do    

    f.entry(:title => 'ssh identity path path', :field => 'ssh_identity_path', :description => "path to file from which the identity (private key) for public key authentication is read") do
      f.textbox
    end

    f.entry(:title => 'chef client config', :field => 'chef_client_config', :description => "path to chef client configuration file") do
      f.textbox
    end

    f.entry(:title => 'non-interactive mode', :field => 'non_interactive', :description => "sudo calls to client are non-interactive") do
        if instance.nil?
            f.checkbox :checked => true
        else
            f.checkbox :checked => (instance.get('non_interactive_int').nil? or instance.get('non_interactive_int') == 1)
        end
    end

    f.entry(:title => 'color output', :field => 'color_output', :description => "enable/disable color output") do
        if instance.nil?
            f.checkbox :checked => false
        else
            f.checkbox :checked => instance.get('color_output_int') == 1
        end
    end

end

%>
